C51 COMPILER V9.60.7.0   EVENT                                                             06/10/2024 16:40:34 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE EVENT
OBJECT MODULE PLACED IN .\Objects\event.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE event.c LARGE WARNINGLEVEL(1) OPTIMIZE(9,SIZE) BROWSE DEBUG OBJECTEXTEND
                    - PRINT(.\Listings\event.lst) TABS(2) OBJECT(.\Objects\event.obj)

line level    source

   1          #include "event.h"
   2          #include "ds1302.h"
   3          #include "keyscan.h"
   4          
   5          Event event;
   6          
   7          void event_init(){
   8   1        event.year = get_integer_year();
   9   1        event.month = get_integer_month();
  10   1        event.day = get_integer_day();
  11   1        event.changed = 0;
  12   1      }
  13          
  14          uchar is_event_about_to_happen(){
  15   1        if(get_integer_year() == event.year && get_integer_month() == event.month && get_integer_day() == event.d
             -ay - 1)
  16   1          return 1;
  17   1        else return 0;
  18   1      }
  19          
  20          void set_event_control(uint year, char month, char day, uchar enable){
  21   1        event.year = year;
  22   1        event.month = month;
  23   1        event.day = day;
  24   1      }
  25          
  26          void set_event_content(char content[20]){
  27   1        uchar i;
  28   1        for(i=0;content[i]!=0 && i<16;i++) event.content[i] = content[i];
  29   1        if(i<16) event.content[i] = 0;
  30   1        else event.content[16] = 0;
  31   1        event.changed = 1;
  32   1      }
  33          
  34          void event_tick_tock(uchar x, uchar y){
  35   1        if(event.changed){
  36   2          OLED_ShowString(x,y,"                ",16);
  37   2          event.changed = 0;
  38   2        }
  39   1        if(is_event_about_to_happen()) OLED_ShowString(x,y,event.content,16);
  40   1      }
  41          
  42          //void page_reminder(){
  43          //  OLED_Clear();
  44          //  OLED_ShowString(0,2,event.content,16);
  45          //  while(1){
  46          //    if(getKey()){
  47          //      event.enable = 0;
  48          //      OLED_Clear();
  49          //      break;
  50          //    }
  51          //  }
  52          //}

C51 COMPILER V9.60.7.0   EVENT                                                             06/10/2024 16:40:34 PAGE 2   


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    227    ----
   CONSTANT SIZE    =     17    ----
   XDATA SIZE       =     25      10
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
